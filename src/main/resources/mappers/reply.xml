<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="scv.DevOpsunity.comment.dao.CommentDAO">

    <resultMap type="CommentDTO" id="articleResult">
        <result property="bno" column="bno"/>       <!--게시글번호-->
        <result property="rno" column="rno"/>   <!--댓글번호-->
        <result property="content" column="content"/>    <!-- 댓글내용 -->
        <result property="writer" column="writer"/>    <!-- 댓글 작성자 -->
        <result property="regdate" column="regdate"/>       <!--게시글번호-->
    </resultMap>


    <!-- 댓글 조회 -->
    <select id="readReply" resultType="CommentDTO">
        SELECT
        RNO, CONTENT, WRITER, REGDATE
        FROM comment_tbl
        WHERE BNO = #{bno}
    </select>

    <!-- 댓글 작성-->   <!--MP_REPLY_SEQ.NEXTVAL 이거 바꾸기-->
    <insert id="writeReply">
        INSERT INTO comment_tbl(
        BNO , RNO , CONTENT , WRITER )
        VALUES(    #{bno} , MP_REPLY_SEQ.NEXTVAL , #{content} , #{writer}	)
    </insert>



</mapper>